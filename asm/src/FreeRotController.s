.include "macros.inc"

.section .text, "ax"  # 0x80006A00 - 0x80406260
.global __ct__Q43scn4step5chara17FreeRotControllerFv
__ct__Q43scn4step5chara17FreeRotControllerFv:
/* 8026E350 0026A190  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8026E354 0026A194  7C 08 02 A6 */	mflr r0
/* 8026E358 0026A198  90 01 00 14 */	stw r0, 0x14(r1)
/* 8026E35C 0026A19C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8026E360 0026A1A0  93 C1 00 08 */	stw r30, 8(r1)
/* 8026E364 0026A1A4  7C 7E 1B 78 */	mr r30, r3
/* 8026E368 0026A1A8  3C 80 80 54 */	lis r4, BASIS__Q33hel4math10Direction3@ha
/* 8026E36C 0026A1AC  3B E4 52 60 */	addi r31, r4, BASIS__Q33hel4math10Direction3@l
/* 8026E370 0026A1B0  80 9F 00 00 */	lwz r4, 0(r31)
/* 8026E374 0026A1B4  80 1F 00 04 */	lwz r0, 4(r31)
/* 8026E378 0026A1B8  90 83 00 00 */	stw r4, 0(r3)
/* 8026E37C 0026A1BC  90 03 00 04 */	stw r0, 4(r3)
/* 8026E380 0026A1C0  80 1F 00 08 */	lwz r0, 8(r31)
/* 8026E384 0026A1C4  90 03 00 08 */	stw r0, 8(r3)
/* 8026E388 0026A1C8  38 63 00 0C */	addi r3, r3, 0xc
/* 8026E38C 0026A1CC  38 9F 00 0C */	addi r4, r31, 0xc
/* 8026E390 0026A1D0  4B F0 E2 39 */	bl __ct__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E394 0026A1D4  38 7E 00 18 */	addi r3, r30, 0x18
/* 8026E398 0026A1D8  38 9F 00 18 */	addi r4, r31, 0x18
/* 8026E39C 0026A1DC  4B F0 E2 2D */	bl __ct__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E3A0 0026A1E0  C0 22 AC E0 */	lfs f1, $$251588-_SDA2_BASE_(r2)
/* 8026E3A4 0026A1E4  D0 3E 00 24 */	stfs f1, 0x24(r30)
/* 8026E3A8 0026A1E8  C0 02 AC E4 */	lfs f0, $$251589-_SDA2_BASE_(r2)
/* 8026E3AC 0026A1EC  D0 1E 00 28 */	stfs f0, 0x28(r30)
/* 8026E3B0 0026A1F0  D0 3E 00 2C */	stfs f1, 0x2c(r30)
/* 8026E3B4 0026A1F4  C0 02 AC E8 */	lfs f0, $$251590-_SDA2_BASE_(r2)
/* 8026E3B8 0026A1F8  D0 1E 00 30 */	stfs f0, 0x30(r30)
/* 8026E3BC 0026A1FC  C0 02 AC EC */	lfs f0, $$251591-_SDA2_BASE_(r2)
/* 8026E3C0 0026A200  D0 1E 00 34 */	stfs f0, 0x34(r30)
/* 8026E3C4 0026A204  7F C3 F3 78 */	mr r3, r30
/* 8026E3C8 0026A208  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8026E3CC 0026A20C  83 C1 00 08 */	lwz r30, 8(r1)
/* 8026E3D0 0026A210  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8026E3D4 0026A214  7C 08 03 A6 */	mtlr r0
/* 8026E3D8 0026A218  38 21 00 10 */	addi r1, r1, 0x10
/* 8026E3DC 0026A21C  4E 80 00 20 */	blr 

.global update__Q43scn4step5chara17FreeRotControllerFRCQ33hel4math7Vector3
update__Q43scn4step5chara17FreeRotControllerFRCQ33hel4math7Vector3:
/* 8026E3E0 0026A220  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 8026E3E4 0026A224  7C 08 02 A6 */	mflr r0
/* 8026E3E8 0026A228  90 01 00 74 */	stw r0, 0x74(r1)
/* 8026E3EC 0026A22C  93 E1 00 6C */	stw r31, 0x6c(r1)
/* 8026E3F0 0026A230  7C 7F 1B 78 */	mr r31, r3
/* 8026E3F4 0026A234  80 A4 00 00 */	lwz r5, 0(r4)
/* 8026E3F8 0026A238  80 04 00 04 */	lwz r0, 4(r4)
/* 8026E3FC 0026A23C  90 A1 00 54 */	stw r5, 0x54(r1)
/* 8026E400 0026A240  90 01 00 58 */	stw r0, 0x58(r1)
/* 8026E404 0026A244  80 04 00 08 */	lwz r0, 8(r4)
/* 8026E408 0026A248  90 01 00 5C */	stw r0, 0x5c(r1)
/* 8026E40C 0026A24C  C0 21 00 5C */	lfs f1, 0x5c(r1)
/* 8026E410 0026A250  C0 03 00 34 */	lfs f0, 0x34(r3)
/* 8026E414 0026A254  EC 01 00 2A */	fadds f0, f1, f0
/* 8026E418 0026A258  D0 01 00 5C */	stfs f0, 0x5c(r1)
/* 8026E41C 0026A25C  38 61 00 54 */	addi r3, r1, 0x54
/* 8026E420 0026A260  4B F3 11 D5 */	bl normalize__Q33hel4math7Vector3Fv
/* 8026E424 0026A264  38 61 00 30 */	addi r3, r1, 0x30
/* 8026E428 0026A268  38 81 00 54 */	addi r4, r1, 0x54
/* 8026E42C 0026A26C  C0 3F 00 30 */	lfs f1, 0x30(r31)
/* 8026E430 0026A270  4B F0 E1 39 */	bl __ml__Q33hel4math7Vector3CFf
/* 8026E434 0026A274  38 61 00 3C */	addi r3, r1, 0x3c
/* 8026E438 0026A278  7F E4 FB 78 */	mr r4, r31
/* 8026E43C 0026A27C  C0 22 AC EC */	lfs f1, $$251591-_SDA2_BASE_(r2)
/* 8026E440 0026A280  C0 1F 00 30 */	lfs f0, 0x30(r31)
/* 8026E444 0026A284  EC 21 00 28 */	fsubs f1, f1, f0
/* 8026E448 0026A288  4B F0 E1 21 */	bl __ml__Q33hel4math7Vector3CFf
/* 8026E44C 0026A28C  80 61 00 3C */	lwz r3, 0x3c(r1)
/* 8026E450 0026A290  80 01 00 40 */	lwz r0, 0x40(r1)
/* 8026E454 0026A294  90 61 00 24 */	stw r3, 0x24(r1)
/* 8026E458 0026A298  90 01 00 28 */	stw r0, 0x28(r1)
/* 8026E45C 0026A29C  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8026E460 0026A2A0  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8026E464 0026A2A4  C0 21 00 24 */	lfs f1, 0x24(r1)
/* 8026E468 0026A2A8  C0 01 00 30 */	lfs f0, 0x30(r1)
/* 8026E46C 0026A2AC  EC 01 00 2A */	fadds f0, f1, f0
/* 8026E470 0026A2B0  D0 01 00 24 */	stfs f0, 0x24(r1)
/* 8026E474 0026A2B4  C0 21 00 28 */	lfs f1, 0x28(r1)
/* 8026E478 0026A2B8  C0 01 00 34 */	lfs f0, 0x34(r1)
/* 8026E47C 0026A2BC  EC 01 00 2A */	fadds f0, f1, f0
/* 8026E480 0026A2C0  D0 01 00 28 */	stfs f0, 0x28(r1)
/* 8026E484 0026A2C4  C0 21 00 2C */	lfs f1, 0x2c(r1)
/* 8026E488 0026A2C8  C0 01 00 38 */	lfs f0, 0x38(r1)
/* 8026E48C 0026A2CC  EC 01 00 2A */	fadds f0, f1, f0
/* 8026E490 0026A2D0  D0 01 00 2C */	stfs f0, 0x2c(r1)
/* 8026E494 0026A2D4  38 61 00 48 */	addi r3, r1, 0x48
/* 8026E498 0026A2D8  38 81 00 24 */	addi r4, r1, 0x24
/* 8026E49C 0026A2DC  4B F0 E1 2D */	bl __ct__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E4A0 0026A2E0  7F E3 FB 78 */	mr r3, r31
/* 8026E4A4 0026A2E4  38 81 00 48 */	addi r4, r1, 0x48
/* 8026E4A8 0026A2E8  4B F0 E0 A5 */	bl __as__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E4AC 0026A2EC  7F E3 FB 78 */	mr r3, r31
/* 8026E4B0 0026A2F0  4B F3 11 45 */	bl normalize__Q33hel4math7Vector3Fv
/* 8026E4B4 0026A2F4  38 7F 00 0C */	addi r3, r31, 0xc
/* 8026E4B8 0026A2F8  3C 80 80 54 */	lis r4, BASIS_Y__Q33hel4math7Vector3@ha
/* 8026E4BC 0026A2FC  38 84 52 F4 */	addi r4, r4, BASIS_Y__Q33hel4math7Vector3@l
/* 8026E4C0 0026A300  4B F0 E0 8D */	bl __as__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E4C4 0026A304  93 E1 00 08 */	stw r31, 8(r1)
/* 8026E4C8 0026A308  38 61 00 18 */	addi r3, r1, 0x18
/* 8026E4CC 0026A30C  38 9F 00 0C */	addi r4, r31, 0xc
/* 8026E4D0 0026A310  7F E5 FB 78 */	mr r5, r31
/* 8026E4D4 0026A314  4B F3 10 6D */	bl permittedNormalizedCross__Q33hel4math7Vector3CFRCQ33hel4math7Vector3
/* 8026E4D8 0026A318  38 00 00 00 */	li r0, 0
/* 8026E4DC 0026A31C  C0 21 00 18 */	lfs f1, 0x18(r1)
/* 8026E4E0 0026A320  3C 60 80 54 */	lis r3, ZERO__Q33hel4math7Vector3@ha
/* 8026E4E4 0026A324  C0 03 52 D0 */	lfs f0, ZERO__Q33hel4math7Vector3@l(r3)
/* 8026E4E8 0026A328  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8026E4EC 0026A32C  40 82 00 2C */	bne lbl_8026E518
/* 8026E4F0 0026A330  C0 21 00 1C */	lfs f1, 0x1c(r1)
/* 8026E4F4 0026A334  38 63 52 D0 */	addi r3, r3, 0x52d0
/* 8026E4F8 0026A338  C0 03 00 04 */	lfs f0, 4(r3)
/* 8026E4FC 0026A33C  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8026E500 0026A340  40 82 00 18 */	bne lbl_8026E518
/* 8026E504 0026A344  C0 21 00 20 */	lfs f1, 0x20(r1)
/* 8026E508 0026A348  C0 03 00 08 */	lfs f0, 8(r3)
/* 8026E50C 0026A34C  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8026E510 0026A350  40 82 00 08 */	bne lbl_8026E518
/* 8026E514 0026A354  38 00 00 01 */	li r0, 1
lbl_8026E518:
/* 8026E518 0026A358  2C 00 00 00 */	cmpwi r0, 0
/* 8026E51C 0026A35C  41 82 00 0C */	beq lbl_8026E528
/* 8026E520 0026A360  38 00 00 00 */	li r0, 0
/* 8026E524 0026A364  48 00 00 14 */	b lbl_8026E538
lbl_8026E528:
/* 8026E528 0026A368  38 7F 00 18 */	addi r3, r31, 0x18
/* 8026E52C 0026A36C  38 81 00 18 */	addi r4, r1, 0x18
/* 8026E530 0026A370  4B F0 E0 1D */	bl __as__Q33hel4math7Vector3FRCQ33hel4math7Vector3
/* 8026E534 0026A374  38 00 00 01 */	li r0, 1
lbl_8026E538:
/* 8026E538 0026A378  2C 00 00 00 */	cmpwi r0, 0
/* 8026E53C 0026A37C  41 82 00 10 */	beq lbl_8026E54C
/* 8026E540 0026A380  38 61 00 08 */	addi r3, r1, 8
/* 8026E544 0026A384  4B F2 FC C1 */	bl restruct__Q43hel4math10Direction32UpFv
/* 8026E548 0026A388  48 00 00 28 */	b lbl_8026E570
lbl_8026E54C:
/* 8026E54C 0026A38C  38 61 00 08 */	addi r3, r1, 8
/* 8026E550 0026A390  4B F2 FC B5 */	bl restruct__Q43hel4math10Direction32UpFv
/* 8026E554 0026A394  38 61 00 0C */	addi r3, r1, 0xc
/* 8026E558 0026A398  38 9F 00 0C */	addi r4, r31, 0xc
/* 8026E55C 0026A39C  7F E5 FB 78 */	mr r5, r31
/* 8026E560 0026A3A0  4B F3 0F AD */	bl normalizedCross__Q33hel4math7Vector3CFRCQ33hel4math7Vector3
/* 8026E564 0026A3A4  38 7F 00 18 */	addi r3, r31, 0x18
/* 8026E568 0026A3A8  38 81 00 0C */	addi r4, r1, 0xc
/* 8026E56C 0026A3AC  4B F0 DF E1 */	bl __as__Q33hel4math7Vector3FRCQ33hel4math7Vector3
lbl_8026E570:
/* 8026E570 0026A3B0  83 E1 00 6C */	lwz r31, 0x6c(r1)
/* 8026E574 0026A3B4  80 01 00 74 */	lwz r0, 0x74(r1)
/* 8026E578 0026A3B8  7C 08 03 A6 */	mtlr r0
/* 8026E57C 0026A3BC  38 21 00 70 */	addi r1, r1, 0x70
/* 8026E580 0026A3C0  4E 80 00 20 */	blr 

.global getRotMtx__Q43scn4step5chara17FreeRotControllerCFv
getRotMtx__Q43scn4step5chara17FreeRotControllerCFv:
/* 8026E584 0026A3C4  94 21 FE C0 */	stwu r1, -0x140(r1)
/* 8026E588 0026A3C8  7C 08 02 A6 */	mflr r0
/* 8026E58C 0026A3CC  90 01 01 44 */	stw r0, 0x144(r1)
/* 8026E590 0026A3D0  93 E1 01 3C */	stw r31, 0x13c(r1)
/* 8026E594 0026A3D4  93 C1 01 38 */	stw r30, 0x138(r1)
/* 8026E598 0026A3D8  7C 7E 1B 78 */	mr r30, r3
/* 8026E59C 0026A3DC  7C 9F 23 78 */	mr r31, r4
/* 8026E5A0 0026A3E0  4B DC 1F 41 */	bl PSMTXIdentity
/* 8026E5A4 0026A3E4  38 61 00 08 */	addi r3, r1, 8
/* 8026E5A8 0026A3E8  38 9F 00 24 */	addi r4, r31, 0x24
/* 8026E5AC 0026A3EC  C0 22 AC F0 */	lfs f1, $$251646-_SDA2_BASE_(r2)
/* 8026E5B0 0026A3F0  4B F0 DF B9 */	bl __ml__Q33hel4math7Vector3CFf
/* 8026E5B4 0026A3F4  38 61 01 08 */	addi r3, r1, 0x108
/* 8026E5B8 0026A3F8  38 81 00 08 */	addi r4, r1, 8
/* 8026E5BC 0026A3FC  4B F2 FF D5 */	bl CreateTrans__Q33hel4math8Matrix34FRCQ33hel4math7Vector3
/* 8026E5C0 0026A400  38 61 00 78 */	addi r3, r1, 0x78
/* 8026E5C4 0026A404  38 81 01 08 */	addi r4, r1, 0x108
/* 8026E5C8 0026A408  7F C5 F3 78 */	mr r5, r30
/* 8026E5CC 0026A40C  4B F0 E3 71 */	bl __ml__Q33hel4math8Matrix34CFRCQ33hel4math8Matrix34
/* 8026E5D0 0026A410  7F C3 F3 78 */	mr r3, r30
/* 8026E5D4 0026A414  38 81 00 78 */	addi r4, r1, 0x78
/* 8026E5D8 0026A418  4B F0 DF 31 */	bl __as__Q33hel4math8Matrix34FRCQ33hel4math8Matrix34
/* 8026E5DC 0026A41C  38 81 00 D4 */	addi r4, r1, 0xd4
/* 8026E5E0 0026A420  38 60 00 00 */	li r3, 0
/* 8026E5E4 0026A424  38 00 00 06 */	li r0, 6
/* 8026E5E8 0026A428  7C 09 03 A6 */	mtctr r0
lbl_8026E5EC:
/* 8026E5EC 0026A42C  90 64 00 04 */	stw r3, 4(r4)
/* 8026E5F0 0026A430  94 64 00 08 */	stwu r3, 8(r4)
/* 8026E5F4 0026A434  42 00 FF F8 */	bdnz lbl_8026E5EC
/* 8026E5F8 0026A438  C0 1F 00 18 */	lfs f0, 0x18(r31)
/* 8026E5FC 0026A43C  D0 01 00 D8 */	stfs f0, 0xd8(r1)
/* 8026E600 0026A440  C0 1F 00 1C */	lfs f0, 0x1c(r31)
/* 8026E604 0026A444  D0 01 00 E8 */	stfs f0, 0xe8(r1)
/* 8026E608 0026A448  C0 1F 00 20 */	lfs f0, 0x20(r31)
/* 8026E60C 0026A44C  D0 01 00 F8 */	stfs f0, 0xf8(r1)
/* 8026E610 0026A450  C0 1F 00 0C */	lfs f0, 0xc(r31)
/* 8026E614 0026A454  D0 01 00 DC */	stfs f0, 0xdc(r1)
/* 8026E618 0026A458  C0 1F 00 10 */	lfs f0, 0x10(r31)
/* 8026E61C 0026A45C  D0 01 00 EC */	stfs f0, 0xec(r1)
/* 8026E620 0026A460  C0 1F 00 14 */	lfs f0, 0x14(r31)
/* 8026E624 0026A464  D0 01 00 FC */	stfs f0, 0xfc(r1)
/* 8026E628 0026A468  C0 1F 00 00 */	lfs f0, 0(r31)
/* 8026E62C 0026A46C  D0 01 00 E0 */	stfs f0, 0xe0(r1)
/* 8026E630 0026A470  C0 1F 00 04 */	lfs f0, 4(r31)
/* 8026E634 0026A474  D0 01 00 F0 */	stfs f0, 0xf0(r1)
/* 8026E638 0026A478  C0 1F 00 08 */	lfs f0, 8(r31)
/* 8026E63C 0026A47C  D0 01 01 00 */	stfs f0, 0x100(r1)
/* 8026E640 0026A480  3C 60 80 54 */	lis r3, ZERO__Q33hel4math7Vector3@ha
/* 8026E644 0026A484  C0 03 52 D0 */	lfs f0, ZERO__Q33hel4math7Vector3@l(r3)
/* 8026E648 0026A488  D0 01 00 E4 */	stfs f0, 0xe4(r1)
/* 8026E64C 0026A48C  38 63 52 D0 */	addi r3, r3, 0x52d0
/* 8026E650 0026A490  C0 03 00 04 */	lfs f0, 4(r3)
/* 8026E654 0026A494  D0 01 00 F4 */	stfs f0, 0xf4(r1)
/* 8026E658 0026A498  C0 03 00 08 */	lfs f0, 8(r3)
/* 8026E65C 0026A49C  D0 01 01 04 */	stfs f0, 0x104(r1)
/* 8026E660 0026A4A0  38 61 00 48 */	addi r3, r1, 0x48
/* 8026E664 0026A4A4  38 81 00 D8 */	addi r4, r1, 0xd8
/* 8026E668 0026A4A8  7F C5 F3 78 */	mr r5, r30
/* 8026E66C 0026A4AC  4B F0 E2 D1 */	bl __ml__Q33hel4math8Matrix34CFRCQ33hel4math8Matrix34
/* 8026E670 0026A4B0  7F C3 F3 78 */	mr r3, r30
/* 8026E674 0026A4B4  38 81 00 48 */	addi r4, r1, 0x48
/* 8026E678 0026A4B8  4B F0 DE 91 */	bl __as__Q33hel4math8Matrix34FRCQ33hel4math8Matrix34
/* 8026E67C 0026A4BC  38 61 00 A8 */	addi r3, r1, 0xa8
/* 8026E680 0026A4C0  38 9F 00 24 */	addi r4, r31, 0x24
/* 8026E684 0026A4C4  4B F2 FF 0D */	bl CreateTrans__Q33hel4math8Matrix34FRCQ33hel4math7Vector3
/* 8026E688 0026A4C8  38 61 00 18 */	addi r3, r1, 0x18
/* 8026E68C 0026A4CC  38 81 00 A8 */	addi r4, r1, 0xa8
/* 8026E690 0026A4D0  7F C5 F3 78 */	mr r5, r30
/* 8026E694 0026A4D4  4B F0 E2 A9 */	bl __ml__Q33hel4math8Matrix34CFRCQ33hel4math8Matrix34
/* 8026E698 0026A4D8  7F C3 F3 78 */	mr r3, r30
/* 8026E69C 0026A4DC  38 81 00 18 */	addi r4, r1, 0x18
/* 8026E6A0 0026A4E0  4B F0 DE 69 */	bl __as__Q33hel4math8Matrix34FRCQ33hel4math8Matrix34
/* 8026E6A4 0026A4E4  83 E1 01 3C */	lwz r31, 0x13c(r1)
/* 8026E6A8 0026A4E8  83 C1 01 38 */	lwz r30, 0x138(r1)
/* 8026E6AC 0026A4EC  80 01 01 44 */	lwz r0, 0x144(r1)
/* 8026E6B0 0026A4F0  7C 08 03 A6 */	mtlr r0
/* 8026E6B4 0026A4F4  38 21 01 40 */	addi r1, r1, 0x140
/* 8026E6B8 0026A4F8  4E 80 00 20 */	blr 

.section .sdata2, "wa"  # 0x8055DF80 - 0x805643C0
.global $$251588
$$251588:
	.incbin "baserom.dol", 0x49B7A0, 0x4
.global $$251589
$$251589:
	.incbin "baserom.dol", 0x49B7A4, 0x4
.global $$251590
$$251590:
	.incbin "baserom.dol", 0x49B7A8, 0x4
.global $$251591
$$251591:
	.incbin "baserom.dol", 0x49B7AC, 0x4
.global $$251646
$$251646:
	.incbin "baserom.dol", 0x49B7B0, 0x8
