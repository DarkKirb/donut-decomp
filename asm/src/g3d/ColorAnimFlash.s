.include "macros.inc"

.section .text, "ax"  # 0x80006A00 - 0x80406260 ; 0x003FF860
.global CreateMaterialTarget__Q23g3d14ColorAnimFlashFRQ23g3d19ColorAnimTevManager
CreateMaterialTarget__Q23g3d14ColorAnimFlashFRQ23g3d19ColorAnimTevManager:
/* 8018DA90 001898D0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8018DA94 001898D4  7C 08 02 A6 */	mflr r0
/* 8018DA98 001898D8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8018DA9C 001898DC  39 61 00 20 */	addi r11, r1, 0x20
/* 8018DAA0 001898E0  4B E7 98 A5 */	bl lbl_80007344
/* 8018DAA4 001898E4  7C 7D 1B 78 */	mr r29, r3
/* 8018DAA8 001898E8  7C 9E 23 78 */	mr r30, r4
/* 8018DAAC 001898EC  7F C3 F3 78 */	mr r3, r30
/* 8018DAB0 001898F0  48 00 05 FD */	bl findFreeTevReg__Q23g3d19ColorAnimTevManagerCFv
/* 8018DAB4 001898F4  7C 7F 1B 78 */	mr r31, r3
/* 8018DAB8 001898F8  7F C3 F3 78 */	mr r3, r30
/* 8018DABC 001898FC  48 00 05 85 */	bl incStageNum__Q23g3d19ColorAnimTevManagerFv
/* 8018DAC0 00189900  7F C3 F3 78 */	mr r3, r30
/* 8018DAC4 00189904  48 00 05 71 */	bl lastStage__Q23g3d19ColorAnimTevManagerCFv
/* 8018DAC8 00189908  7C 64 1B 78 */	mr r4, r3
/* 8018DACC 0018990C  7F A3 EB 78 */	mr r3, r29
/* 8018DAD0 00189910  7F E5 FB 78 */	mr r5, r31
/* 8018DAD4 00189914  48 00 02 99 */	bl __ct__Q23g3d23ColorAnimMaterialTargetF13_GXTevStageID11_GXTevRegID
/* 8018DAD8 00189918  39 61 00 20 */	addi r11, r1, 0x20
/* 8018DADC 0018991C  4B E7 98 B5 */	bl lbl_80007390
/* 8018DAE0 00189920  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8018DAE4 00189924  7C 08 03 A6 */	mtlr r0
/* 8018DAE8 00189928  38 21 00 20 */	addi r1, r1, 0x20
/* 8018DAEC 0018992C  4E 80 00 20 */	blr
.global __ct__Q23g3d14ColorAnimFlashFv
__ct__Q23g3d14ColorAnimFlashFv:
/* 8018DAF0 00189930  38 00 00 FF */	li r0, 0xff
/* 8018DAF4 00189934  98 03 00 00 */	stb r0, 0x0(r3)
/* 8018DAF8 00189938  98 03 00 01 */	stb r0, 0x1(r3)
/* 8018DAFC 0018993C  98 03 00 02 */	stb r0, 0x2(r3)
/* 8018DB00 00189940  98 03 00 03 */	stb r0, 0x3(r3)
/* 8018DB04 00189944  38 00 00 00 */	li r0, 0x0
/* 8018DB08 00189948  90 03 00 04 */	stw r0, 0x4(r3)
/* 8018DB0C 0018994C  4E 80 00 20 */	blr
.global setColor__Q23g3d14ColorAnimFlashFRC8_GXColor
setColor__Q23g3d14ColorAnimFlashFRC8_GXColor:
/* 8018DB10 00189950  88 E4 00 01 */	lbz r7, 0x1(r4)
/* 8018DB14 00189954  88 C4 00 02 */	lbz r6, 0x2(r4)
/* 8018DB18 00189958  88 A4 00 03 */	lbz r5, 0x3(r4)
/* 8018DB1C 0018995C  88 04 00 00 */	lbz r0, 0x0(r4)
/* 8018DB20 00189960  98 03 00 00 */	stb r0, 0x0(r3)
/* 8018DB24 00189964  98 E3 00 01 */	stb r7, 0x1(r3)
/* 8018DB28 00189968  98 C3 00 02 */	stb r6, 0x2(r3)
/* 8018DB2C 0018996C  98 A3 00 03 */	stb r5, 0x3(r3)
/* 8018DB30 00189970  4E 80 00 20 */	blr
.global reflectToMaterial__Q23g3d14ColorAnimFlashCFRCQ23g3d16MaterialAccessorRCQ23g3d23ColorAnimMaterialTarget
reflectToMaterial__Q23g3d14ColorAnimFlashCFRCQ23g3d16MaterialAccessorRCQ23g3d23ColorAnimMaterialTarget:
/* 8018DB34 00189974  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8018DB38 00189978  7C 08 02 A6 */	mflr r0
/* 8018DB3C 0018997C  90 01 00 34 */	stw r0, 0x34(r1)
/* 8018DB40 00189980  39 61 00 30 */	addi r11, r1, 0x30
/* 8018DB44 00189984  4B E7 97 FD */	bl lbl_80007340
/* 8018DB48 00189988  7C 7C 1B 78 */	mr r28, r3
/* 8018DB4C 0018998C  7C 9E 23 78 */	mr r30, r4
/* 8018DB50 00189990  7C BD 2B 78 */	mr r29, r5
/* 8018DB54 00189994  7F C3 F3 78 */	mr r3, r30
/* 8018DB58 00189998  4B E9 69 49 */	bl DefaultSwitchThreadCallback
/* 8018DB5C 0018999C  38 80 00 00 */	li r4, 0x0
/* 8018DB60 001899A0  4B F6 08 21 */	bl GetResTev__Q44nw4r3g3d6ScnMdl15CopiedMatAccessFb
/* 8018DB64 001899A4  90 61 00 10 */	stw r3, 0x10(r1)
/* 8018DB68 001899A8  7F C3 F3 78 */	mr r3, r30
/* 8018DB6C 001899AC  4B E9 69 35 */	bl DefaultSwitchThreadCallback
/* 8018DB70 001899B0  38 80 00 00 */	li r4, 0x0
/* 8018DB74 001899B4  4B F6 07 BD */	bl GetResMatTevColor__Q44nw4r3g3d6ScnMdl15CopiedMatAccessFb
/* 8018DB78 001899B8  90 61 00 0C */	stw r3, 0xc(r1)
/* 8018DB7C 001899BC  3B E1 00 08 */	addi r31, r1, 0x8
/* 8018DB80 001899C0  80 1C 00 00 */	lwz r0, 0x0(r28)
/* 8018DB84 001899C4  90 01 00 08 */	stw r0, 0x8(r1)
/* 8018DB88 001899C8  7F A3 EB 78 */	mr r3, r29
/* 8018DB8C 001899CC  4B EC 09 F5 */	bl ARCGetLength
/* 8018DB90 001899D0  7C 64 1B 78 */	mr r4, r3
/* 8018DB94 001899D4  38 61 00 0C */	addi r3, r1, 0xc
/* 8018DB98 001899D8  7F E5 FB 78 */	mr r5, r31
/* 8018DB9C 001899DC  4B F3 F9 35 */	bl GXSetTevColor__Q34nw4r3g3d14ResMatTevColorF11_GXTevRegID8_GXColor
/* 8018DBA0 001899E0  7F A3 EB 78 */	mr r3, r29
/* 8018DBA4 001899E4  4B F7 2C 3D */	bl GetZeroBufferAddress__Q44nw4r3snd6detail9AxManagerFv
/* 8018DBA8 001899E8  7C 7F 1B 78 */	mr r31, r3
/* 8018DBAC 001899EC  7F A3 EB 78 */	mr r3, r29
/* 8018DBB0 001899F0  48 00 01 D9 */	bl tevRegId2GXTevColorArg__Q23g3d23ColorAnimMaterialTargetCFv
/* 8018DBB4 001899F4  7C 7E 1B 78 */	mr r30, r3
/* 8018DBB8 001899F8  7F A3 EB 78 */	mr r3, r29
/* 8018DBBC 001899FC  48 00 01 E5 */	bl tevRegId2GXTevColorArgAlpha__Q23g3d23ColorAnimMaterialTargetCFv
/* 8018DBC0 00189A00  7C 7D 1B 78 */	mr r29, r3
/* 8018DBC4 00189A04  80 1C 00 04 */	lwz r0, 0x4(r28)
/* 8018DBC8 00189A08  2C 00 00 00 */	cmpwi r0, 0x0
/* 8018DBCC 00189A0C  41 82 00 18 */	beq lbl_8018DBE4
/* 8018DBD0 00189A10  2C 00 00 01 */	cmpwi r0, 0x1
/* 8018DBD4 00189A14  41 82 00 50 */	beq lbl_8018DC24
/* 8018DBD8 00189A18  2C 00 00 02 */	cmpwi r0, 0x2
/* 8018DBDC 00189A1C  41 82 00 88 */	beq lbl_8018DC64
/* 8018DBE0 00189A20  48 00 00 C0 */	b lbl_8018DCA0
.global lbl_8018DBE4
lbl_8018DBE4:
/* 8018DBE4 00189A24  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DBE8 00189A28  7F E4 FB 78 */	mr r4, r31
/* 8018DBEC 00189A2C  38 A0 00 00 */	li r5, 0x0
/* 8018DBF0 00189A30  38 C0 00 00 */	li r6, 0x0
/* 8018DBF4 00189A34  38 E0 00 00 */	li r7, 0x0
/* 8018DBF8 00189A38  39 00 00 01 */	li r8, 0x1
/* 8018DBFC 00189A3C  39 20 00 00 */	li r9, 0x0
/* 8018DC00 00189A40  4B F3 EE 31 */	bl GXSetTevColorOp__Q34nw4r3g3d6ResTevF13_GXTevStageID8_GXTevOp10_GXTevBias11_GXTevScaleUc11_GXTevRegID
/* 8018DC04 00189A44  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DC08 00189A48  7F E4 FB 78 */	mr r4, r31
/* 8018DC0C 00189A4C  38 A0 00 00 */	li r5, 0x0
/* 8018DC10 00189A50  7F C6 F3 78 */	mr r6, r30
/* 8018DC14 00189A54  7F A7 EB 78 */	mr r7, r29
/* 8018DC18 00189A58  39 00 00 0F */	li r8, 0xf
/* 8018DC1C 00189A5C  4B F3 ED 85 */	bl GXSetTevColorIn__Q34nw4r3g3d6ResTevF13_GXTevStageID14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg
/* 8018DC20 00189A60  48 00 00 80 */	b lbl_8018DCA0
.global lbl_8018DC24
lbl_8018DC24:
/* 8018DC24 00189A64  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DC28 00189A68  7F E4 FB 78 */	mr r4, r31
/* 8018DC2C 00189A6C  38 A0 00 00 */	li r5, 0x0
/* 8018DC30 00189A70  38 C0 00 00 */	li r6, 0x0
/* 8018DC34 00189A74  38 E0 00 00 */	li r7, 0x0
/* 8018DC38 00189A78  39 00 00 01 */	li r8, 0x1
/* 8018DC3C 00189A7C  39 20 00 00 */	li r9, 0x0
/* 8018DC40 00189A80  4B F3 ED F1 */	bl GXSetTevColorOp__Q34nw4r3g3d6ResTevF13_GXTevStageID8_GXTevOp10_GXTevBias11_GXTevScaleUc11_GXTevRegID
/* 8018DC44 00189A84  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DC48 00189A88  7F E4 FB 78 */	mr r4, r31
/* 8018DC4C 00189A8C  38 A0 00 0F */	li r5, 0xf
/* 8018DC50 00189A90  7F C6 F3 78 */	mr r6, r30
/* 8018DC54 00189A94  7F A7 EB 78 */	mr r7, r29
/* 8018DC58 00189A98  39 00 00 00 */	li r8, 0x0
/* 8018DC5C 00189A9C  4B F3 ED 45 */	bl GXSetTevColorIn__Q34nw4r3g3d6ResTevF13_GXTevStageID14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg
/* 8018DC60 00189AA0  48 00 00 40 */	b lbl_8018DCA0
.global lbl_8018DC64
lbl_8018DC64:
/* 8018DC64 00189AA4  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DC68 00189AA8  7F E4 FB 78 */	mr r4, r31
/* 8018DC6C 00189AAC  38 A0 00 01 */	li r5, 0x1
/* 8018DC70 00189AB0  38 C0 00 00 */	li r6, 0x0
/* 8018DC74 00189AB4  38 E0 00 00 */	li r7, 0x0
/* 8018DC78 00189AB8  39 00 00 01 */	li r8, 0x1
/* 8018DC7C 00189ABC  39 20 00 00 */	li r9, 0x0
/* 8018DC80 00189AC0  4B F3 ED B1 */	bl GXSetTevColorOp__Q34nw4r3g3d6ResTevF13_GXTevStageID8_GXTevOp10_GXTevBias11_GXTevScaleUc11_GXTevRegID
/* 8018DC84 00189AC4  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DC88 00189AC8  7F E4 FB 78 */	mr r4, r31
/* 8018DC8C 00189ACC  38 A0 00 0F */	li r5, 0xf
/* 8018DC90 00189AD0  7F C6 F3 78 */	mr r6, r30
/* 8018DC94 00189AD4  7F A7 EB 78 */	mr r7, r29
/* 8018DC98 00189AD8  39 00 00 00 */	li r8, 0x0
/* 8018DC9C 00189ADC  4B F3 ED 05 */	bl GXSetTevColorIn__Q34nw4r3g3d6ResTevF13_GXTevStageID14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg14_GXTevColorArg
.global lbl_8018DCA0
lbl_8018DCA0:
/* 8018DCA0 00189AE0  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DCA4 00189AE4  7F E4 FB 78 */	mr r4, r31
/* 8018DCA8 00189AE8  38 A0 00 FF */	li r5, 0xff
/* 8018DCAC 00189AEC  38 C0 00 FF */	li r6, 0xff
/* 8018DCB0 00189AF0  38 E0 00 FF */	li r7, 0xff
/* 8018DCB4 00189AF4  4B F3 EA 3D */	bl GXSetTevOrder__Q34nw4r3g3d6ResTevF13_GXTevStageID13_GXTexCoordID11_GXTexMapID12_GXChannelID
/* 8018DCB8 00189AF8  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DCBC 00189AFC  7F E4 FB 78 */	mr r4, r31
/* 8018DCC0 00189B00  4B F3 EE 21 */	bl GXSetTevDirect__Q34nw4r3g3d6ResTevF13_GXTevStageID
/* 8018DCC4 00189B04  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DCC8 00189B08  7F E4 FB 78 */	mr r4, r31
/* 8018DCCC 00189B0C  38 A0 00 00 */	li r5, 0x0
/* 8018DCD0 00189B10  38 C0 00 00 */	li r6, 0x0
/* 8018DCD4 00189B14  38 E0 00 00 */	li r7, 0x0
/* 8018DCD8 00189B18  39 00 00 00 */	li r8, 0x0
/* 8018DCDC 00189B1C  39 20 00 00 */	li r9, 0x0
/* 8018DCE0 00189B20  4B F3 E6 71 */	bl GXSetTevAlphaOp__Q34nw4r3g3d6ResTevF13_GXTevStageID8_GXTevOp10_GXTevBias11_GXTevScaleUc11_GXTevRegID
/* 8018DCE4 00189B24  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DCE8 00189B28  7F E4 FB 78 */	mr r4, r31
/* 8018DCEC 00189B2C  38 A0 00 07 */	li r5, 0x7
/* 8018DCF0 00189B30  38 C0 00 07 */	li r6, 0x7
/* 8018DCF4 00189B34  38 E0 00 07 */	li r7, 0x7
/* 8018DCF8 00189B38  39 00 00 00 */	li r8, 0x0
/* 8018DCFC 00189B3C  4B F3 E5 C5 */	bl GXSetTevAlphaIn__Q34nw4r3g3d6ResTevF13_GXTevStageID14_GXTevAlphaArg14_GXTevAlphaArg14_GXTevAlphaArg14_GXTevAlphaArg
/* 8018DD00 00189B40  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DD04 00189B44  7F E4 FB 78 */	mr r4, r31
/* 8018DD08 00189B48  38 A0 00 00 */	li r5, 0x0
/* 8018DD0C 00189B4C  4B F3 E7 F5 */	bl GXSetTevKColorSel__Q34nw4r3g3d6ResTevF13_GXTevStageID15_GXTevKColorSel
/* 8018DD10 00189B50  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DD14 00189B54  7F E4 FB 78 */	mr r4, r31
/* 8018DD18 00189B58  38 A0 00 00 */	li r5, 0x0
/* 8018DD1C 00189B5C  4B F3 E8 75 */	bl GXSetTevKAlphaSel__Q34nw4r3g3d6ResTevF13_GXTevStageID15_GXTevKAlphaSel
/* 8018DD20 00189B60  38 61 00 10 */	addi r3, r1, 0x10
/* 8018DD24 00189B64  7F E4 FB 78 */	mr r4, r31
/* 8018DD28 00189B68  38 A0 00 00 */	li r5, 0x0
/* 8018DD2C 00189B6C  38 C0 00 00 */	li r6, 0x0
/* 8018DD30 00189B70  4B F3 E3 A1 */	bl GXSetTevSwapMode__Q34nw4r3g3d6ResTevF13_GXTevStageID13_GXTevSwapSel13_GXTevSwapSel
/* 8018DD34 00189B74  39 61 00 30 */	addi r11, r1, 0x30
/* 8018DD38 00189B78  4B E7 96 55 */	bl lbl_8000738C
/* 8018DD3C 00189B7C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8018DD40 00189B80  7C 08 03 A6 */	mtlr r0
/* 8018DD44 00189B84  38 21 00 30 */	addi r1, r1, 0x30
/* 8018DD48 00189B88  4E 80 00 20 */	blr
